{"version":3,"sources":["webpack:///./resources/assets/scripts/app.js","webpack:///./resources/assets/scripts/components/dropdown.js","webpack:///./resources/assets/scripts/components/toggler.js","webpack:///./resources/assets/styles/admin.scss","webpack:///./resources/assets/styles/app.scss?4db8","webpack:///./resources/assets/styles/editor.scss?5404"],"names":["matchMedia","document","menu","button","toggler","submenuTriggers","i","trigger","item","e","toggle","appHeight","doc","window","debounce","KEY_UP","KEY_DOWN","KEY_LEFT","KEY_RIGHT","el","currentLink","currentItem","isInSubmenu","nextItem","prevItem","nextLink","prevLink","submenu","parentLink","parentItem","open","close","parent","requestAnimationFrame","triggers","Array","isExpanded","controls"],"mappings":"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","file":"/scripts/app.js","sourcesContent":["import debounce from 'lodash-es/debounce';\r\n\r\nimport { menu, button } from './components/dropdown';\r\nimport { toggle, toggler } from './components/toggler';\r\n\r\nif (matchMedia('(min-width: 1024px)').matches) {\r\n  if (document.querySelector('.site-navigation')) {\r\n    menu(document.querySelector('.site-navigation'));\r\n  }\r\n  button(document.querySelector('.site-languages__button'));\r\n} else {\r\n  toggler(document.querySelector('.site-hamburger-button'));\r\n\r\n  const submenuTriggers = document.querySelectorAll('.site-navigation__submenu-trigger');\r\n  for (let i = 0; i < submenuTriggers.length; i++) {\r\n    const trigger = submenuTriggers[i];\r\n    trigger.addEventListener('click', (e) => {\r\n      const item = e.target.closest('[aria-haspopup]');\r\n      toggle(item);\r\n      e.preventDefault();\r\n    })\r\n  }\r\n}\r\n\r\nconst appHeight = () => {\r\n  const doc = document.documentElement\r\n  doc.style.setProperty('--app-height', `${window.innerHeight}px`)\r\n};\r\nwindow.addEventListener('resize', debounce(appHeight, 150));\r\nappHeight();\r\n","const KEY_UP = 38;\r\nconst KEY_DOWN = 40;\r\nconst KEY_LEFT = 37;\r\nconst KEY_RIGHT = 39;\r\n\r\nfunction open(el) {\r\n  el.setAttribute('aria-expanded', true);\r\n}\r\n\r\nfunction close(el) {\r\n  el.setAttribute('aria-expanded', false);\r\n}\r\n\r\nfunction keydownListener(e) {\r\n  const currentLink = e.target;\r\n\r\n  // The element that would trigger a submenu\r\n  const currentItem = currentLink.matches('[aria-haspopup]') ?\r\n    currentLink :\r\n    currentLink.closest('[aria-haspopup');\r\n\r\n  const isInSubmenu = !! currentLink.closest('[role=\"menu\"]');\r\n\r\n  const nextItem = currentLink.parentElement.nextElementSibling;\r\n  const prevItem = currentLink.parentElement.previousElementSibling;\r\n  const nextLink = nextItem ? nextItem.querySelector('a') : null;\r\n  const prevLink = prevItem ? prevItem.querySelector('a') : null;\r\n\r\n  // Either current submenu or inner submenu\r\n  const submenu = isInSubmenu ?\r\n    currentLink.closest('[role=\"menu\"]') :\r\n    currentLink.parentElement.querySelector('[role=\"menu\"]');\r\n\r\n  // The closest tabbable element which is a parent\r\n  const parentLink = isInSubmenu ?\r\n    submenu.parentElement.querySelector('a, button') :\r\n    null;\r\n\r\n  // The closest parent element that triggers a submenu\r\n  const parentItem = parentLink ?\r\n    (parentLink.matches('[aria-haspopup') ? parentLink : parentLink.closest('[aria-haspopup')) :\r\n    null;\r\n\r\n  switch (e.keyCode) {\r\n    case KEY_DOWN:\r\n      // If it's in a submenu, go to next. If not, open submenu\r\n      if (isInSubmenu) {\r\n        if (nextLink) {\r\n          nextLink.focus();\r\n          e.preventDefault();\r\n        }\r\n      } else if (submenu) {\r\n        open(currentItem);\r\n        submenu.querySelector('[role=\"menuitem\"]').focus();\r\n        e.preventDefault();\r\n      }\r\n      break;\r\n    case KEY_UP:\r\n      // If it's in a submenu, go to previous until there's more then exit\r\n      if (isInSubmenu) {\r\n        if (prevLink) {\r\n          prevLink.focus();\r\n        } else if (parentLink) {\r\n          parentLink.focus();\r\n          close(parentItem);\r\n        }\r\n        e.preventDefault();\r\n      }\r\n      break;\r\n    case KEY_LEFT:\r\n      // If it's in a submenu exit, otherwise previous link\r\n      if (isInSubmenu) {\r\n        parentLink.focus();\r\n        close(currentItem);\r\n        e.preventDefault();\r\n      } else if (prevLink) {\r\n        prevLink.focus();\r\n        e.preventDefault();\r\n      }\r\n      break;\r\n    case KEY_RIGHT:\r\n      // Next link\r\n      if (nextLink) {\r\n        nextLink.focus();\r\n        e.preventDefault();\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nexport function button(button) {\r\n  const parent = button.parentNode;\r\n\r\n  parent.addEventListener('mouseout', () => requestAnimationFrame(() => close(button)));\r\n  // On mouseover close all other submenus\r\n  parent.addEventListener('mouseover', () => requestAnimationFrame(() => {\r\n    open(button);\r\n  }));\r\n\r\n  parent.addEventListener('keydown', keydownListener);\r\n}\r\n\r\nexport function menu(menu) {\r\n  const triggers = menu.querySelectorAll('[aria-haspopup=\"true\"]');\r\n\r\n  for (let i = 0; i < triggers.length; i++) {\r\n    const trigger = triggers[i];\r\n\r\n    trigger.addEventListener('mouseout', () => requestAnimationFrame(() => close(trigger)));\r\n    // On mouseover close all other submenus\r\n    trigger.addEventListener('mouseover', () => requestAnimationFrame(() => {\r\n      Array.from(triggers).slice(i, 1).forEach(close);\r\n      open(trigger);\r\n    }));\r\n  }\r\n\r\n  menu.addEventListener('keydown', keydownListener);\r\n}\r\n","export function open(el) {\r\n  el.setAttribute('aria-expanded', true);\r\n}\r\n\r\nexport function close(el) {\r\n  el.setAttribute('aria-expanded', false);\r\n}\r\n\r\nexport function toggle(el) {\r\n  const isExpanded = el.getAttribute('aria-expanded') === 'true';\r\n  if (isExpanded) {\r\n    close(el);\r\n  } else {\r\n    open(el);\r\n  }\r\n}\r\n\r\nexport function toggler(el) {\r\n  el.addEventListener('click', () => requestAnimationFrame(() => {\r\n    const isExpanded = el.getAttribute('aria-expanded') === 'true';\r\n    if (isExpanded) {\r\n      close(el);\r\n    } else {\r\n      open(el);\r\n    }\r\n\r\n    const controls = el.getAttribute('aria-controls');\r\n    if (controls) {\r\n      controls.split(' ').forEach((selector) => {\r\n        const el  = document.getElementById(selector);\r\n        if (isExpanded) {\r\n          el.classList.remove('is-active');\r\n        }\r\n        else {\r\n          el.classList.add('is-active');\r\n        }\r\n      });\r\n    }\r\n  }));\r\n}\r\n","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}